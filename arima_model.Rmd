---
title: "arima_model"
output: html_document
---

```{r}
setwd('/Users/Edric/Desktop/all/github/first')
library(tidyverse)
library(forecast)
data <- read.csv('./data/time_series.csv')
data$Date <- as.Date(data$Date)
              
endo_var <- ts(data$sentiment, frequency=365)
prices <- ts(data$Adj.Close, frequency = 365)
par(mfrow=c(2,2))
plot(endo_var)
plot(prices)
acf(diff(prices), lag.max=50)
pacf(diff(prices))

```


```{r}
endo_var.train <- endo_var[1:200]
prices.train <- prices[1:200]
endo_var.test <- endo_var[201:length(endo_var)]
prices.test <- endo_var[201:length(prices)]
model <- auto.arima(prices.train, xreg=endo_var.train)
preds <- forecast(model, h=42,xreg=endo_var.test)
plot(preds)
```
